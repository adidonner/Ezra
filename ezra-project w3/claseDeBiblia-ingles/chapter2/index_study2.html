<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Bible</title>
    <link rel="stylesheet" href="styles_study2.css">
</head>
<body>

    <div class="story-container">
        <a href="/claseDeBiblia-ingles/chapter1/index_study1.html">Chapter 1</a>&nbsp;&nbsp;&nbsp;&nbsp;
        <a href="/claseDeBiblia-ingles/chapter2/index_study2.html">Chapter 2</a>&nbsp;&nbsp;&nbsp;&nbsp;
        <a href="/claseDeBiblia-ingles/chapter3/index_study3.html">Chapter 3</a>&nbsp;&nbsp;&nbsp;&nbsp;
        <a href="/claseDeBiblia-ingles/chapter4/index_study4.html">Chapter 4</a>&nbsp;&nbsp;&nbsp;&nbsp;
        <h2>The beautiful world that God made</h2>
        <img src="the-world.jpg" alt="the-world" width="340" height="300">
        <p id="story-part1">
           How different it is from the cold, dark picture we looked at before! Now the world is warm 
           and bright and pleasant. The animals are playing and everyone is happy. God has made all 
           these things and all of them are very good but there are no people anywhere. God has not 
           made any people. 
        </p>
        <p id="story-part2" class="hidden">
            All the pretty things are here but there are no people to enjoy them, 
           so God will make some people to live here.<br/>
            Genesis 1:6-25
        </p>
        <button id="read-more" class="read-more-button">Read More</button>
        <div>
            <button id="play-audio" class="audio-button">Play Audio</button>
            <button id="stop-audio" class="audio-button" disabled>Stop Audio</button>
            <audio id="audio-player" src="chapter2.mp3"></audio>
        </div>
    </div>

    <div class="questions-container">
        <h3>Questions</h3>
        <div class="question">
            <p>1. Can you see a lion in this picture?</p>
            <input type="radio" name="q1" value="yes"> Yes
            <input type="radio" name="q1" value="no"> No
        </div>
        <div class="question">
            <p>2. Can you see any people?</p>
            <input type="radio" name="q2" value="yes"> Yes
            <input type="radio" name="q2" value="no"> No
        </div>
        <div class="question">
            <p>3. Did God decide to make some people?</p>
            <input type="radio" name="q3" value="yes"> Yes
            <input type="radio" name="q3" value="no"> No
        </div>
    </div>

    <button id="play-game" class="game-button" disabled>Go to the Game</button>

    <script>
        const readMoreButton = document.getElementById('read-more');
        const storyPart2 = document.getElementById('story-part2');
        const playGameButton = document.getElementById('play-game');
        const q1Options = document.querySelectorAll('input[name="q1"]');
        const q2Options = document.querySelectorAll('input[name="q2"]');
        const q3Options = document.querySelectorAll('input[name="q3"]');
        const playAudioButton = document.getElementById('play-audio');
        const stopAudioButton = document.getElementById('stop-audio');
        const audioElement = document.getElementById('audio-player');
        let storyRead = false;
        let q1Answered = false;
        let q2Answered = false;
        let q3Answered = false;

        readMoreButton.addEventListener('click', () => {
            storyPart2.classList.remove('hidden');
            readMoreButton.classList.add('hidden');
            storyRead = true;
            checkIfReady();
        });

        q1Options.forEach(option => {
            option.addEventListener('change', () => {
                q1Answered = true;
                checkIfReady();
            });
        });

        q2Options.forEach(option => {
            option.addEventListener('change', () => {
                q2Answered = true;
                checkIfReady();
            });
        });
        q3Options.forEach(option => {
            option.addEventListener('change', () => {
                q3Answered = true;
                checkIfReady();
            });
        });

        playAudioButton.addEventListener('click', () => {
            audioElement.play();
            playAudioButton.disabled = true;
            stopAudioButton.disabled = false;
            playAudioButton.classList.add('playing');
            stopAudioButton.classList.remove('playing');
        });

        stopAudioButton.addEventListener('click', () => {
            audioElement.pause();
            audioElement.currentTime = 0; // Optionally reset to the beginning
            playAudioButton.disabled = false;
            stopAudioButton.disabled = true;
            playAudioButton.classList.remove('playing');
            stopAudioButton.classList.add('playing');
        });

        audioElement.addEventListener('ended', () => {
            playAudioButton.disabled = false;
            stopAudioButton.disabled = true;
            playAudioButton.classList.remove('playing');
            stopAudioButton.classList.remove('playing');
        });

        function checkIfReady() {
            if (storyRead && q1Answered && q2Answered && q3Answered) {
                playGameButton.disabled = false;
                playGameButton.addEventListener('click', () => {
                    window.location.href = "/claseDeBiblia-ingles/chapter2/game/index_play2.html";
                });
            }
        }
    </script>

</body>
</html>